Find {
  FindSCN = Heading Rule+ AuxRule*

  Heading = "#"+ "%20" Name

  Rule = RuleName (RuleBody | RuleBranch+)
  AuxRule = "-" AuxRuleName (RuleBody | RuleBranch+)

  RuleBranch = "-" Tag RuleBody

  RuleBody = MatchItem+

  MatchItem =
    | RuleApplication -- ruleapplication
    | Recursion       -- opRecursion
    | NegativeMatch   -- negativeMatch
    | Iteration       -- iteration
    | Any             -- any
    | Name            -- name
    | character       -- character
    
  Iteration = OneOrMore | ZeroOrMore | Optional
  OneOrMore = Vinculum "<" word<"sub"> ">" "1..." "</" word<"sub"> ">"
  ZeroOrMore = Vinculum "<" word<"sub"> ">" "0..." "</" word<"sub"> ">"
  Optional = Vinculum "<" word<"sub"> ">" "?" "</" word<"sub"> ">"
  Vinculum = "<" word<"u"> ">" MatchItem+ "</" word<"u"> ">"
  Any = "<" word<"span"> word<"style"> "=" string<"color%3A%2300B040%3B"> ">" "✓" "</" word<"span"> ">"

  Recursion = "↺"

  NegativeMatch = "<" word<"span"> word<"style"> "=" string<"color%3A%20%23FF76C1%3B"> ">" (Name | RuleApplication | character) "<" word<"sup"> ">" "≠" "</" word<"sup"> ">" "</" word<"span"> ">" 

  RuleName = "<" word<"mark"> ">" "<" word<"b"> ">" Name "</" word<"b"> ">" "</" word<"mark"> ">"
  AuxRuleName = "<" word<"mark"> ">"  Name "</" word<"mark"> ">"
  RuleApplication = "<" word<"sub"> ">" "<" word<"i"> ">" Name "</" word<"i"> ">"  "</" word<"sub"> ">"

  character = ~"<" ~">" ~"❲" ~"❳" ~"↺" ~"#" ~"-" ~space any

    Tag = "#" Name

    word<s> = "❲" s "❳"
    string<s> = dq s dq


      Name = "❲" NameChar+ "❳"
      NameChar =
	| "❲" NameChar* "❳" -- rec
	| ~"❲" ~"❳" any  -- other

      Line = "---"
      space += applySyntactic<Line>

      dq = "\""
}
